{% set icon = model.icon %}
{% set heading = model.heading %}
{% set features = model.features|default([]) %}
{% set action = model.action %}
{% set quote = model.quote %}
{% set image = model.image %}
{% set mobileImage = model.mobileImage ? model.mobileImage : image %}
{% set gravityForm = model.gravityForm %}
{% set video = model.video %}
{% set embed = model.embed %}
{% set hubspotForm = model.hubspotForm %}
{% set calendly = model.calendly %}
{% set options = options is defined ? options : model.options %}
{% set imageDisplay = options.imageDisplay ?? 'right' %}
{% set imageAlign = options.imageAlign ?? 'bottom' %}
{% set textAlign = options.textAlign ?? 'default' %}

<flynt-component name="SectionFeatureBlock" {{ options.theme ? 'data-theme="' ~ options.theme ~ '"' }} class="edge sand bg-shade dark:bg-dark">
	<section class="tw-section">
		<div class="bg-white border border-border-card rounded-2xl md:rounded-3xl dark:bg-dark-shade dark:border-0 overflow-hidden">
			<div
				class="{{imageDisplay == 'full' ? 'flex flex-col' : 'grid md:grid-cols-12 lg:gap-8'}}">

				{# Content #}
				<div class="flex flex-col gap-4 {{imageAlign == 'top' ? 'justify-start' : 'justify-center'}} {{imageDisplay == 'full' ? 'p-4 py-6 md:p-8 lg:p-10 md:px-14 lg:px-16' : 'px-4 py-5 md:p-10 md:gap-6 md:col-span-7'}} {{imageDisplay == 'left' ? 'order-2' : 'order-1' }}">
					{% if icon and imageDisplay != 'full' %}
						{% include '@Components/Common/_icon.twig' with { name: icon, class: 'size-6 text-text dark:text-text-dark' } %}
					{% endif %}
					{% if heading %}
						{% include '@Components/Heading/index.twig' with { model: heading, options: {align: textAlign != 'default' ? textAlign : (imageDisplay == 'full' ? 'center' : 'left')} } only %}
					{% endif %}
					{% if features and imageDisplay != 'full' %}
						{% include '@Components/List/index.twig' with { model: features, options: options } only %}
					{% endif %}
					{% if action %}
						{% include '@Components/Action/index.twig' with { model: action, options: {align: imageDisplay == 'full' ? 'center' : 'left'} } only %}
					{% endif %}

					{# Full image #}
					{% if imageDisplay == 'full' %}
						{% include '@Components/Common/_media.twig' with { model: {
							image: image,
							mobileImage: mobileImage,
							gravityForm: gravityForm,
							video: video,
							embed: embed,
							hubspotForm: hubspotForm,
							calendly: calendly
						}, options: options } only %}
						
						{% if features %}
							{% include '@Components/List/index.twig' with { model: features, options: options } only %}
						{% endif %}
					{% endif %}
					{% if quote %}
						<div class="mt-4 {{imageDisplay == 'full' ? 'flex justify-center' : 'md:mt-8 flex flex-col items-start'}}">
							{% include '@Components/Quote/index.twig' with { model: quote, options: {display: 'bordered'} } only %}
						</div>
					{% endif %}
				</div>

				{# Left-Right-aligned image #}
				{% if imageDisplay != 'full' %}
					<div class="flex justify-center {{imageAlign == 'top' ? 'items-start' : imageAlign == 'center' ? 'items-center pr-4 md:pr-10' : 'items-end'}} md:col-span-5 {{imageDisplay == 'left' ? 'order-1' : 'order-2' }}">
						{% include '@Components/Common/_media.twig' with { model: {
							image: image,
							mobileImage: mobileImage,
							gravityForm: gravityForm,
							video: video,
							embed: embed,
							hubspotForm: hubspotForm,
							calendly: calendly
						}, options: options } only %}
					</div>
				{% endif %}

			</div>
		</div>
	</section>

	{# {% include '@Components/Common/_json.twig' with {value: model, varName: 'model'} %} #}
</flynt-component>
